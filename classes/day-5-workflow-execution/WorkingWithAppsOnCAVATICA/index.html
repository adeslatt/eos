<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Anne Deslattes Mays, PhD" /><link rel="canonical" href="https://nih-nichd.github.io/eos/classes/day-5-workflow-execution/WorkingWithAppsOnCAVATICA/" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>WorkingWithAppsOnCAVATICA - Kids First & INCLUDE Elements of Style</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../../../css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "WorkingWithAppsOnCAVATICA";
        var mkdocs_page_input_path = "classes/day-5-workflow-execution/WorkingWithAppsOnCAVATICA.md";
        var mkdocs_page_url = "/eos/classes/day-5-workflow-execution/WorkingWithAppsOnCAVATICA/";
      </script>
    
    <script src="../../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> Kids First & INCLUDE Elements of Style
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="" href="../../../">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Agenda</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../pre-training/pre-training/">Pre-training</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../day-1-reasoning/day-1-reasoning/">Day 1 - Reasoning</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../day-2-code-versioning/day-2-code-versioning/">Day 2 - Code versioning</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../day-3-containerization/day-3-containerization/">Day 3 - Containerization</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../day-4-workflow-development/day-4-workflow-development/">Day 4 - Workflow development</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../day-5-workflow-execution/">Day 5 - Workflow execution</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">About</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../about/background/">Background</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../about/attribution/">Attribution</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../about/license/">License</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../about/how-this-site-was-made/">Making this site</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">Kids First & INCLUDE Elements of Style</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>WorkingWithAppsOnCAVATICA</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/adeslatt/Kids-First-INCLUDE-Elements-of-Style-Workflow-Creation-Maintenance/blob/main/docs/classes/day-5-workflow-execution/WorkingWithAppsOnCAVATICA.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <p><br/><br/>
<img src="/../../img/CAVATICALogo.png"  width="500" >
<br/><br/></p>
<h1 id="working-with-apps-on-cavatica">Working with Apps on CAVATICA</h1>
<p>We now will explore how to use your own and public apps in your project workspace</p>
<h2 id="head-straight-to-cavatica">Head Straight to CAVATICA</h2>
<p>In your browser navigate to "https://cavatica.sbgenomics.com"</p>
<p>Login here:</p>
<p>
<img src="/../../img/CAVATICAERACommonsLoginGen3Authorize.gif">
</p>

<p>You are then in an environment where you can see a number of things including <code>public</code> and <code>developer</code> tabs</p>
<h2 id="developer-authentication-token">Developer Authentication Token</h2>
<p>As in all things these days, to push or at times use (if your application is private) applications you have in the repository - you will need to authenticate with your personal authentication token.  You should not share your token with others.</p>
<p>If you haven't generated your own authentication token, you can see how it is done here with the instructions <a href="../authenticating-on-cavatica/">Authenticating on Cavatica</a></p>
<h2 id="using-public-apps-to-your-project">Using Public Apps to your Project</h2>
<p>You can use a public app without copying the app into your project.</p>
<p>After you login to <em><code>CAVATICA</code></em>, you can <em><code>Browse</code></em> the public apps.  At the time of this writing, there are <em><code>[703]</code></em> on the <em><code>CAVATICA</code></em> platform.</p>
<p>You can browse to find the app you are interested in.</p>
<p><img src="/../../img/CAVATICABrowsePublicApps.png"></p>
<p>And you can <em><code>search</code></em>, let's search for the <em><code>Fastqc Analysis</code></em> application.</p>
<p><img src="/../../img/CAVATICASearchPublicApps.png"></p>
<p>And you can run this application (note that I have selected the <em><code>workflow</code></em> and not just a single <em><code>application</code></em>:</p>
<p><img src="/../../img/CAVATICARunPublicApps.png"></p>
<p>Once <em><code>Run</code></em> is selected, you will be prompted to specify your project:
<img src="/../../img/CAVATICARunPublicAppSelectProject.png"></p>
<p>Next, you see that you need to provide <em><code>files</code></em> for the application.
<img src="/../../img/CAVATICARunPublicAppSelectFiles.png"></p>
<p>Let's see how to get files into your project.</p>
<h2 id="copying-files-to-your-project">Copying Files to your Project</h2>
<p>There are many ways to get files into your project, while you are developing your workflows or doing analysis, it is useful to have test data.</p>
<p>As I mentioned, I use Zenodo for testdata, derivative data products, often in the form of matrices, that are typical for input to interactive analysis as we demonstrated with our volcano plot.</p>
<p>And also derivative data products such as what was done for the analysis work, <a href="https://www.biorxiv.org/content/10.1101/490904v2.full.pdf">The Impact of Biological Sex on Alternative Splicing</a>.  In this case, a Nextflow <a href="https://github.com/lifebit-ai/rmats-nf/#rmats-nf">rMATS workflow</a> was run on controlled access data, the GTEx data, and these aggregate matrices were made and released on <a href="https://zenodo.org/record/5524975#.YwjTSexKja4">Zenodo</a> and were input to all the <a href="https://github.com/TheJacksonLaboratory/sbas#the-impact-of-sex-on-alternative-splicing">downstream analyses whose notebooks are on GitHub</a></p>
<p>To work with Apps on Cavatica, you need to make your files available to us.</p>
<p>It is possible to bring this data in very easily in CAVATICA, and the data can come from many sources.   Just a caution, you pay for storage.  So working with small test data sets as you learn and develop your workflows, applications and notebooks, is good practice.</p>
<p>Also getting in the habit of removing everything at the end of the day and making those steps reproducible.</p>
<p>Starting from scratch where it is reasonable will ensure that you have the understanding of how to proceed that you think you have.  Much in the same way where i have asked for you to run the class, to share your screen and execute the steps I say will work, is a kind of testing, and a way to ensure what I am saying is true and reproducible.</p>
<p>By getting into the habit of daily saving your work on GitHub, and saving those sharable derivative data products on Zenodo, you start to create durable, successful habits that will ensure when you publish that what you say and do are correct and accurate to the best of your ability.</p>
<h2 id="navigate-to-files">Navigate to Files</h2>
<p>Navigate to <em><code>Files</code></em> and select <em><code>Add Files</code></em></p>
<p><img src="/../../img/CAVATICAAddFiles.png"></p>
<p>Select <em><code>FTP/HTTP</code></em>
<img src="/../../img/CAVATICAAddFilesHttpFtp.png"></p>
<p>In your browser, navigate to the Zenodo site</p>
<pre><code>https://doi.org/10.5281/zenodo.7025773
</code></pre>
<p><img src="/../../img/https://github.com/NIH-NICHD/Kids-First-Elements-of-Style-Workflow-Creation-Maintenance/blob/main/assets/ZenodoDryBenchSkillsSite.png"></p>
<p>Where our testdata files now reside.
<img src="https://github.com/NIH-NICHD/Kids-First-Elements-of-Style-Workflow-Creation-Maintenance/blob/main/assets/ZenodoDryBenchSkillsSiteTestData.png"></p>
<p>Right click and <em><code>copy link address</code></em> on <em><code>test.10k_reads_1.fastq.gz</code></em></p>
<p>Paste in the window what you copied:</p>
<pre><code>https://zenodo.org/record/7025773/files/test.20k_reads_1.fastq.gz?download=1
</code></pre>
<p>You will see that unfortunately it includes <em><code>?download=1</code></em>.   Delete this ending so your pasted copy looks like this:</p>
<pre><code>https://zenodo.org/record/7025773/files/test.20k_reads_1.fastq.gz
</code></pre>
<p>Now copy this file in the window and change the second one to have the <em><code>_2</code></em> instead of <em><code>_1</code></em>.</p>
<p>Now in the window it should have these two files</p>
<pre><code>https://zenodo.org/record/7025773/files/test.20k_reads_1.fastq.gz
https://zenodo.org/record/7025773/files/test.20k_reads_2.fastq.gz
</code></pre>
<p>And your screen should look like this:
<img src="/../../img/CAVATICAAddFilesTestdataReads1_2.png"></p>
<p>Press Done and you will see that now your files are there.
<img src="/../../img/CAVATICAAddFilesSuccess.png"></p>
<h2 id="running-the-app">Running the App</h2>
<p>Now we have our app in our project, and we have our files -- now we can run the app.</p>
<p>Navigate back to our app, select the copy we have made.
<img src="/../../img/CAVATICASelectApp.png"></p>
<p>Select run
<img src="/../../img/CAVATICAAppSelectRun.png"></p>
<p>It says we need files.</p>
<p>Now we need to Select our files
<img src="/../../img/CAVATICASelectAppSelectFiles.png"></p>
<p>Now we select run and we see that it is executing.
<img src="/../../img/CAVATICASelectAppRun.png"></p>
<p>You will see that machines are initializing
<img src="/../../img/CAVATICAAppMachineInitialization.png"></p>
<p>App Completion
<img src="/../../img/CAVATICAAppCompletion.png"></p>
<p>Then the analysis was run and we can view the resulting files in the same way that you can view the results of the execution example ran on the Google Shell Cloud -- but we are in a workspace now where we can have a large number of machines running in parallel.   There are limits of course, and depending upon the analysis these limits can be discussed -- because the important things is to get the Science done properly and efficiently.</p>
<h2 id="return-to-the-agenda"><a href="../day-5-workflow-execution/">Return to the Agenda</a></h2>
<h2 id="additional-resources">Additional resources:</h2>
<ul>
<li>
<p><a href="https://docs.cavatica.org/docs/public-apps">CAVATICA documentation for the Apps interface:</a></p>
</li>
<li>
<p><a href="http://docs.cavatica.org/docs/docker-basics">CAVATICA documentation for Docker Basics:</a></p>
</li>
</ul>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/adeslatt/Kids-First-INCLUDE-Elements-of-Style-Workflow-Creation-Maintenance" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
    
  </span>
</div>
    <script>var base_url = '../../..';</script>
    <script src="../../../js/theme_extra.js" defer></script>
    <script src="../../../js/theme.js" defer></script>
      <script src="../../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
